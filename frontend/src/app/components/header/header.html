<header class="header">
  <div class="header-content">
    <div class="logo">
      <a routerLink="/">
        <span class="logo-icon">ðŸ“‹</span>
        <span class="logo-text">TaskManager</span>
      </a>
    </div>
    
    <nav class="nav">
      @if (isAuthenticated()) {
        <!-- Navigation Links -->
        <div class="nav-links">
          <a routerLink="/tasks" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">âœ“</span>
            Tasks
          </a>
          <a routerLink="/workspaces" routerLinkActive="active" class="nav-link">
            <span class="nav-icon">ðŸ’¼</span>
            Workspaces
          </a>
        </div>
        
        <!-- User Menu -->
        <div class="user-menu">
          <button class="user-button" (click)="toggleUserDropdown()">
            <div class="user-avatar">
              {{ userInitials() }}
            </div>
            <span class="user-name-text">{{ userDisplayName() }}</span>
            <span class="dropdown-arrow" [class.open]="showUserDropdown()">â–¼</span>
          </button>
          
          <!-- Dropdown Menu -->
          <div class="dropdown-menu" [class.show]="showUserDropdown()" (click)="closeDropdown()">
            <div class="dropdown-header">
              <div class="dropdown-avatar">{{ userInitials() }}</div>
              <div class="dropdown-user-info">
                <div class="dropdown-user-name">{{ userDisplayName() }}</div>
                <div class="dropdown-user-email">{{ currentUser()?.email }}</div>
              </div>
            </div>
            <div class="dropdown-divider"></div>
            <a routerLink="/profile" class="dropdown-item">
              <span class="dropdown-icon">ðŸ‘¤</span>
              Profile
            </a>
            <a routerLink="/workspaces" class="dropdown-item">
              <span class="dropdown-icon">ðŸ’¼</span>
              My Workspaces
            </a>
            <a routerLink="/tasks" class="dropdown-item">
              <span class="dropdown-icon">âœ“</span>
              My Tasks
            </a>
            <div class="dropdown-divider"></div>
            <button class="dropdown-item logout" (click)="onLogout()">
              <span class="dropdown-icon">ðŸšª</span>
              Logout
            </button>
          </div>
        </div>
      } @else {
        <div class="auth-links">
          <a routerLink="/login" routerLinkActive="active" class="nav-link login">
            Login
          </a>
          <a routerLink="/register" routerLinkActive="active" class="nav-link register">
            Get Started
          </a>
        </div>
      }
    </nav>
  </div>
  
  <!-- Dropdown Backdrop -->
  @if (showUserDropdown()) {
    <div class="dropdown-backdrop" (click)="closeDropdown()"></div>
  }
</header>